–í –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –¥–∏–∑–∞–π–Ω–µ –∏ DDD –µ—Å—Ç—å –¥–≤–∞ –ø–æ–¥—Ö–æ–¥–∞ –∫ —Ç–æ–º—É,  
**–≥–¥–µ –¥–æ–ª–∂–Ω–∞ –∂–∏—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞**: –≤ —Å–∞–º–∏—Ö –º–æ–¥–µ–ª—è—Ö –∏–ª–∏ —Å–Ω–∞—Ä—É–∂–∏.

---

### 1. Anemic Domain Model (–∞–Ω–µ–º–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å)

**–ê–Ω–µ–º–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å** ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ —Å—É—â–Ω–æ—Å—Ç–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç **—Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ**,  
–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–ª–æ–≥–∏–∫–∞) –≤—ã–Ω–µ—Å–µ–Ω–æ –≤ —Å–µ—Ä–≤–∏—Å—ã.

```php
class Order
{
    public function __construct(
        public int $id,
        public string $status,
        public float $total,
    ) {}
}
```

```php
class OrderService
{
    public function pay(Order $order): void
    {
        if ($order->status !== 'new') {
            throw new \LogicException('Order already paid or canceled');
        }

        $order->status = 'paid';
    }
}
```

#### ‚öôÔ∏è –ü—Ä–∏–∑–Ω–∞–∫–∏:

- –ú–Ω–æ–≥–æ DTO-–ø–æ–¥–æ–±–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ —Å –ø—É–±–ª–∏—á–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ –∏–ª–∏ –≥–µ—Ç—Ç–µ—Ä–∞–º–∏/—Å–µ—Ç—Ç–µ—Ä–∞–º–∏.
    
- ‚Äú–°–µ—Ä–≤–∏—Å—ã‚Äù –¥–µ–ª–∞—é—Ç –≤—Å—é —Ä–∞–±–æ—Ç—É –∑–∞ —Å—É—â–Ω–æ—Å—Ç–∏.
    
- –ö–æ–¥ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π, –ø—Ä–æ—Å—Ç–æ —Ä–∞–∑–ª–æ–∂–µ–Ω–Ω—ã–π –ø–æ –∫–ª–∞—Å—Å–∞–º.
    

#### üëç –ü–ª—é—Å—ã:

- –ü—Ä–æ—Å—Ç–æ –ø–æ–Ω—è—Ç—å –Ω–æ–≤–∏—á–∫–∞–º.
    
- –£–¥–æ–±–Ω–æ, –µ—Å–ª–∏ –¥–æ–º–µ–Ω ‚Äî —Ç–æ–Ω–∫–∏–π —Å–ª–æ–π –Ω–∞–¥ CRUD-–æ–ø–µ—Ä–∞—Ü–∏—è–º–∏.
    
- –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.
    

#### üëé –ú–∏–Ω—É—Å—ã:

- –ù–∞—Ä—É—à–∞–µ—Ç **–∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—é** ‚Äî –¥–∞–Ω–Ω—ã–µ –∏ –ª–æ–≥–∏–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã.
    
- –ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ —Ä–∞—Å–ø–æ–ª–∑–∞—é—Ç—Å—è –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º.
    
- –û–±—ä–µ–∫—Ç—ã —Ç–µ—Ä—è—é—Ç —Å–º—ã—Å–ª: —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ ‚Äú—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö‚Äù.
    

---

### 2. Rich Domain Model (–±–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å)

**Rich model** ‚Äî –∫–æ–≥–¥–∞ –±–∏–∑–Ω–µ—Å-–ø–æ–≤–µ–¥–µ–Ω–∏–µ –∂–∏–≤—ë—Ç **–≤–Ω—É—Ç—Ä–∏ —Å–∞–º–∏—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π**.  
–ú–æ–¥–µ–ª—å –∑–Ω–∞–µ—Ç, **—á—Ç–æ —Å –Ω–µ–π –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å** –∏ **–≤ –∫–∞–∫–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏**.

```php
class Order
{
    private string $status = 'new';

    public function pay(): void
    {
        if ($this->status !== 'new') {
            throw new \LogicException('Order already processed');
        }

        $this->status = 'paid';
    }

    public function cancel(): void
    {
        if ($this->status === 'paid') {
            throw new \LogicException('Cannot cancel a paid order');
        }

        $this->status = 'canceled';
    }

    public function isPaid(): bool
    {
        return $this->status === 'paid';
    }
}
```

–¢–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∂–∏–≤—É—Ç **—Ä—è–¥–æ–º —Å –¥–∞–Ω–Ω—ã–º–∏**.  
–°–µ—Ä–≤–∏—Å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å, –Ω–æ –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç –µ—é –Ω–∞–ø—Ä—è–º—É—é.

#### üëç –ü–ª—é—Å—ã:

- –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è: —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–º–µ—Å—Ç–µ.
    
- –ú–æ–¥–µ–ª—å –≤—ã—Ä–∞–∂–∞–µ—Ç —Å–∞–º –¥–æ–º–µ–Ω, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î.
    
- –õ–µ–≥—á–µ —á–∏—Ç–∞—Ç—å, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å.
    
- –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–Ω—Ü–∏–ø DDD ‚Äî ‚Äú–≥–æ–≤–æ—Ä—è—â–∏–π –∫–æ–¥‚Äù.
    

#### üëé –ú–∏–Ω—É—Å—ã:

- –¢—Ä–µ–±—É–µ—Ç —Ö–æ—Ä–æ—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏.
    
- –ò–Ω–æ–≥–¥–∞ —Å–ª–æ–∂–Ω–µ–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (–æ—Å–æ–±–µ–Ω–Ω–æ —Å ORM).
    
- –ò–∑–±—ã—Ç–æ—á–Ω–æ –¥–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö CRUD-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
    

---

### 3. –ì–¥–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –≥—Ä–∞–Ω–∏—Ü–∞

|–°—Ü–µ–Ω–∞—Ä–∏–π|–ü–æ–¥—Ö–æ–¥|
|---|---|
|–ü—Ä–æ—Å—Ç–æ–π CRUD, –º–∏–Ω–∏–º—É–º –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏|**Anemic model** –¥–æ–ø—É—Å—Ç–∏–º–∞|
|–°–ª–æ–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞, —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã|**Rich model** –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞|
|DDD, event sourcing, –±–∏–∑–Ω–µ—Å-–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã|**Rich model** –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–∞|
|–õ–µ–≥–∞—Å–∏-—Å–∏—Å—Ç–µ–º–∞, –±—ã—Å—Ç—Ä—ã–µ —Ñ–∏–∫—Å—ã|–í—Ä–µ–º–µ–Ω–Ω–æ anemic (–Ω–æ —Å –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–æ–π —Ä–æ—Å—Ç–∞)|

---

### 4. –í DDD-–∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

–í **Domain-Driven Design** –∞–Ω–µ–º–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å —Å—á–∏—Ç–∞–µ—Ç—Å—è **–∑–∞–ø–∞—Ö–æ–º –∫–æ–¥–∞**,
–ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –≥–ª–∞–≤–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø: **–¥–æ–º–µ–Ω –¥–æ–ª–∂–µ–Ω –≤—ã—Ä–∞–∂–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É**.

Rich-–º–æ–¥–µ–ª—å –¥–µ–ª–∞–µ—Ç –∫–æ–¥ —Å–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ–º—ã–º:
`$order->pay()` –≥–æ–≤–æ—Ä–∏—Ç –±–æ–ª—å—à–µ, —á–µ–º `$orderService->markAsPaid($order)`.

---

### üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

- [[Domain-Driven Design (DDD)]] ‚Äî –±–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–µ–¥–º–µ—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã—Ä–æ—Å–ª–∞ –¥–∏—Å–∫—É—Å—Å–∏—è –ø—Ä–æ rich/anemic –º–æ–¥–µ–ª–∏.
- [[Event Sourcing]] –∏ [[Saga Pattern]] ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤, –≥–¥–µ –≤–∞–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
- [[State (–°–æ—Å—Ç–æ—è–Ω–∏–µ)]] ‚Äî –æ —Ç–æ–º, –ø–æ—á–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –¥–æ–º–µ–Ω–∞.

---

### üí° –í –æ–¥–Ω–æ–π —Ñ—Ä–∞–∑–µ

> **Anemic model** ‚Äî –¥–∞–Ω–Ω—ã–µ –±–µ–∑ —Å–º—ã—Å–ª–∞.
> **Rich model** ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, –∑–∞–∫–ª—é—á—ë–Ω–Ω–∞—è –≤ –∫–æ–¥.
> –ï—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ ‚Äú–¥—É–º–∞—Ç—å‚Äù, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—å ‚Äî –¥–µ–ª–∞–π –µ—ë –±–æ–≥–∞—Ç–æ–π.
