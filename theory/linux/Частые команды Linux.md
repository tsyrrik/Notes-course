# Частые команды Linux (Ubuntu, Bash)

Краткая шпаргалка по повседневным операциям в терминале. Основано на конспекте из gist.

## История и хоткеи
- `history [N]` — показать историю (последние N строк).
- `!<N>` — выполнить команду из истории по номеру.
- `Ctrl+C` — прервать текущую команду; 
- `Ctrl+L` — очистить экран.
- `Ctrl+R` — поиск по истории; 
- `Ctrl+Shift+C/V` — копировать/вставить в терминале, это можно перенастроить.

## Навигация
- `pwd` — текущая директория.
- `ls` (`-l`, `-a`, `-la`) — список файлов.
- `cd ~/projects` • `cd -` (назад) • `cd ~` (домой).

## Файлы
- `touch <file>` — создать файл.
- `nano <file>` — редактировать (или используйте любимый редактор).
- `cat <file>` — вывести содержимое.
- `mv <src> <dst>` — переименовать/переместить файл.
- `cp <src> <dst>` — скопировать файл.
- `rm <file>` — удалить файл (`-f` — принудительно).

## Лайфхак: быстрое наблюдение за логами
 В каталоге с логами можно смотреть все файлы сразу: `tail -f *.log`. После этого удобно пару раз нажать enter, чтобы отделить новые логи от старых
## Директории
- `mkdir <dir>` • `mkdir -p <a/b>` — создать (в т.ч. иерархию).
- `mv <old-dir> <new-dir>` — переименовать/переместить директорию.
- `cp -r <dir> <copy>` — скопировать директорию.
- `rm -r <dir>` — удалить директорию рекурсивно.

## Символические ссылки
- `ln -s <target> <link>` — создать симлинк.
- `unlink <link>` — удалить симлинк.

## Права и владельцы
- `chmod <mode> <path>` • `chmod -R <mode> <dir>` — права (`644`, `755`, `u+x`).
- `chown <user>:<group> <path>` • `chown -R ...` — владелец/группа.
- Подробнее: [[Права доступа]], [[Смена владельца и прав на файлы]].

## Менеджер пакетов APT
- `sudo apt-get update` — обновить индексы пакетов.
- `sudo apt-get install <pkg>` — установить пакет.
- `sudo apt-get upgrade` — обновить установленные пакеты.
- `sudo apt-get remove <pkg>` — удалить пакет.
- `sudo apt-get purge <pkg>` — удалить с конфигами.

## Архиваторы
Распаковывать можно из консоли, но нет смысла помнить команды

## Bash-скрипты (минимум)
1) `touch backup.sh` 
2) в начало: `#!/bin/bash`
3) `chmod u+x backup.sh` 
4) запуск: `./backup.sh`.

Пример заготовки:
```bash
#!/bin/bash
set -e
echo "Run task..."
```

## Cron
- `crontab -l` — список задач; 
- `crontab -e` — редактировать.

## См. также
- [[Переключение пользователей и root]]
- [[Пайпы и конвейеры (pipeline)]]
 - [[SSH и удалённые каталоги (ssh, sshfs)]]
- https://habr.com/ru/articles/150950/

