# üîê SSH –∏ SSHFS ‚Äî —Ä–∞–±–æ—Ç–∞ —Å —É–¥–∞–ª—ë–Ω–Ω—ã–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏

SSH ‚Äî —ç—Ç–æ –∑–∞—â–∏—â—ë–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ —É–¥–∞–ª—ë–Ω–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º.  
SSHFS (SSH File System) ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç **–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —É–¥–∞–ª—ë–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é** –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω—É—é –ø–∞–ø–∫—É.  
–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Ç–æ–º—É –∂–µ –∫–∞–Ω–∞–ª—É SSH ‚Äî –±–µ–∑ VPN –∏ –ª–∏—à–Ω–∏—Ö –¥–µ–º–æ–Ω–æ–≤.

---

## üö™ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

–°–∞–º–æ–µ –ø—Ä–æ—Å—Ç–æ–µ:

```bash
ssh user@host
```

–ß–µ—Ä–µ–∑ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç:

```bash
ssh -p 2222 user@host
```

–û–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞:

```bash
ssh user@host 'uname -a && uptime'
```

---

## üîë SSH-–∫–ª—é—á–∏

–ö–ª—é—á–∏ –∏–∑–±–∞–≤–ª—è—é—Ç –æ—Ç –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è –∏ –ø–æ–≤—ã—à–∞—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.  
–°–æ–∑–¥–∞—Ç—å –ø–∞—Ä—É:

```bash
ssh-keygen -t ed25519 -C "mike@work"
```

–ü–æ—è–≤—è—Ç—Å—è –¥–≤–∞ —Ñ–∞–π–ª–∞ –≤ `~/.ssh/`:

|–§–∞–π–ª|–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ|
|---|---|
|`id_ed25519`|–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ —É —Å–µ–±—è)|
|`id_ed25519.pub`|–ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á (–∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä)|

–î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

```bash
ssh-copy-id user@host
```

–∏–ª–∏ –≤—Ä—É—á–Ω—É—é –≤—Å—Ç–∞–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `.pub` –≤ `~/.ssh/authorized_keys`.

–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞:

```bash
chmod 700 ~/.ssh
chmod 600 ~/.ssh/id_ed25519 ~/.ssh/authorized_keys
chmod 644 ~/.ssh/id_ed25519.pub
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å GitHub:

```bash
ssh -T git@github.com
```

---

## ‚öôÔ∏è –ê–ª–≥–æ—Ä–∏—Ç–º—ã –∫–ª—é—á–µ–π

|–ê–ª–≥–æ—Ä–∏—Ç–º|–°—Ç–∞—Ç—É—Å|–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π|
|---|---|---|
|`ed25519`|‚úÖ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π||
|`rsa`|—É—Å—Ç–∞—Ä–µ–≤–∞—é—â–∏–π, –Ω–æ –≤—Å—ë –µ—â—ë –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è||
|`ecdsa`|—Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è||

> –í—Å–µ–≥–¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–π –ø–∞—Ä—É –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞.  
> –ö–ª—é—á–∏ `ed25519` ‚Äî –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤.

---

## üìÇ –ü–µ—Ä–µ–¥–∞—á–∞ —Ñ–∞–π–ª–æ–≤

–ü—Ä–æ—Å—Ç–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:

```bash
scp -r ./build user@host:/var/www/app/
```

–ë–æ–ª–µ–µ —É–º–Ω—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:

```bash
rsync -avz --delete ./public/ user@host:/var/www/app/public/
```

`rsync` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã, —ç–∫–æ–Ω–æ–º—è —Ç—Ä–∞—Ñ–∏–∫ –∏ –≤—Ä–µ–º—è.

---

## üß∑ –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ SSH (SSHFS)

SSHFS –¥–µ–ª–∞–µ—Ç —Ç–∞–∫, —á—Ç–æ –∫–∞—Ç–∞–ª–æ–≥ —Å —Å–µ—Ä–≤–µ—Ä–∞ –≤–∏–¥–µ–Ω –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–∞–ø–∫–∞.

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**

```bash
sudo apt install -y sshfs
```

**–ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

```bash
mkdir -p ~/mnt/app
sshfs deploy@host:/var/www/app ~/mnt/app \
  -o reconnect,ServerAliveInterval=15,IdentityFile=~/.ssh/id_ed25519
```

–ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç –Ω–∞ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É:

```bash
sshfs -p 2222 user@host:/srv/site ~/mnt/site
```

**–û—Ç–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å:**

```bash
fusermount -u ~/mnt/app     # Linux
umount ~/mnt/app            # macOS
```

–ü–æ–ª–µ–∑–Ω—ã–µ –æ–ø—Ü–∏–∏:

- `-o allow_other` ‚Äî –¥–æ—Å—Ç—É–ø –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º (–µ—Å–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –≤ `/etc/fuse.conf`);
    
- `-o default_permissions` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ —è–¥—Ä–æ–º;
    
- `-o follow_symlinks` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–º —Å—Å—ã–ª–∫–∞–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
    

‚ö†Ô∏è SSHFS ‚Äî –æ—Ç–ª–∏—á–µ–Ω –¥–ª—è —Ä–µ–¥–∫–∏—Ö –ø—Ä–∞–≤–æ–∫ –∏–ª–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞,  
–Ω–æ **–Ω–µ –¥–ª—è IDE –∏–ª–∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö** ‚Äî –º–µ–¥–ª–µ–Ω–Ω–æ –∏ —Ö—Ä—É–ø–∫–æ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π.

---

## üß≠ –£–¥–∞–ª—ë–Ω–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤ IDE

SSHFS —Ö–æ—Ä–æ—à, –Ω–æ IDE-–ø–ª–∞–≥–∏–Ω—ã –µ—â—ë –ª—É—á—à–µ.  
VS Code, PhpStorm –∏ –¥—Ä—É–≥–∏–µ —É–º–µ—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å **–ø–æ SSH –Ω–∞–ø—Ä—è–º—É—é**, –±–µ–∑ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

- IDE —Å—Ç–∞–≤–∏—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä ‚Äú–∞–≥–µ–Ω—Ç–∞‚Äù (`~/.vscode-server`, `jetbrains-gateway` –∏ —Ç.–ø.).
    
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è, Composer, PHP, –≤—Å—ë ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–∞–º.
    
- –¢—ã –≤–∏–¥–∏—à—å –∫–æ–¥ —É —Å–µ–±—è, –Ω–æ –≤—Å—ë –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
    

**–ü–ª—é—Å—ã:**

- –Ω–µ –Ω—É–∂–Ω–æ —Ç–∞—â–∏—Ç—å –≥–∏–≥–∞–±–∞–π—Ç—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ª–æ–∫–∞–ª—å–Ω–æ;
    
- —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ = —Ä–µ–∞–ª—å–Ω–æ–º—É –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É;
    
- –±—ã—Å—Ç—Ä–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è, –º–µ–Ω—å—à–µ –ª–∞–≥–æ–≤, —á–µ–º –ø—Ä–∏ SSHFS.
    

**–ú–∏–Ω—É—Å—ã:**

- –Ω—É–∂–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Å–µ—Å—Å–∏—è SSH –∏ –Ω–µ–º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ;
    
- –∏–Ω–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è —á–∏—Å—Ç–∏—Ç—å –∫–µ—à IDE (`~/.cache/JetBrains` –∏ —Ç.–ø.).
    

–ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–∞, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ –≤–∏–¥–µ—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

```bash
ssh -L 127.0.0.1:8080:127.0.0.1:8080 user@host -N
```

–¢–µ–ø–µ—Ä—å —Å–∞–π—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ —Ç–≤–æ–µ–π –º–∞—à–∏–Ω–µ –ø–æ `localhost:8080`.



