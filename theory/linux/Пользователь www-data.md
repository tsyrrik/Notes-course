# Пользователь www-data

Кто это:
- Сервисный пользователь веб‑стека (Nginx/Apache, PHP‑FPM) на Ubuntu/Debian.
- Обычно без интерактивного шелла и без пароля: `/usr/sbin/nologin` или `/bin/false`.

Почему без шелла:
- Это снижает поверхность атаки: вход под www-data напрямую невозможен.
- Любые админ‑операции выполняются через `sudo` от привилегированного пользователя.

Команды на серваке надо запускать под ним, потому что иначе  сгенерятся логи/кеши под твоим пользователем/судо и следующий запрос на сервер упадет из-за отсутствия прав на запись в такой файл/папку

Как запускать команды «как www-data»
- Разово (рекомендовано):
  - `sudo -u www-data -- sh -lc 'php artisan cache:clear'`
  - `sudo -u www-data -H -- php bin/console cache:clear --no-warmup`

Пояснения к флагам:
- `-u www-data` — выполнить как этот пользователь.
- `--` — конец списка опций, дальше — команда.
- `-H` — установить `HOME` целевого пользователя (часто `/var/www`).
- `sh -lc '...'` — запустить команду в шелле с загрузкой профилей, чтобы PATH/алиасы применились.


[[Переключение пользователей и root]]
[[Права доступа]]
