**Package by Layer** — это способ организации кода,  
при котором проект разделяется **по техническим слоям**:  
контроллеры, сервисы, репозитории, сущности и т. п.

---

### 1. Пример структуры

```
src/
 ├── Controller/
 │   ├── OrderController.php
 │   ├── UserController.php
 │   └── ProductController.php
 ├── Service/
 │   ├── OrderService.php
 │   ├── UserService.php
 │   └── ProductService.php
 ├── Repository/
 │   ├── OrderRepository.php
 │   ├── UserRepository.php
 │   └── ProductRepository.php
 └── Entity/
     ├── Order.php
     ├── User.php
     └── Product.php
```

Каждый слой отвечает за определённый тип логики:

- `Controller` — обработка HTTP-запросов,
    
- `Service` — бизнес-логика,
    
- `Repository` — доступ к данным,
    
- `Entity` — модели предметной области.
    

---

### 2. Зачем так делали

Такой подход упрощал навигацию и разделение ответственности,  
когда проект небольшой и код однородный.

Он хорошо ложится на **MVC**-парадигму,  
понятен джунам и “работает” до определённого масштаба.

---

### 3. Основной минус

Когда проект растёт —  
связанная логика **расползается по папкам**.

Чтобы разобраться, как создаётся заказ,  
нужно открыть:

```
Controller/OrderController.php
Service/OrderService.php
Repository/OrderRepository.php
Entity/Order.php
```

Это ломает локализацию изменений:  
одно изменение фичи — пять прыжков по слоям.  
Появляется куча зависимостей и связей “сквозь всё приложение”.

---

### 4. Где всё ещё уместно

- В маленьких проектах или прототипах.
    
- В учебных целях — чтобы показать слои приложения.
    
- Когда фич немного, а команда одна.
    

---

### 5. Эволюция

Package by Layer стал отправной точкой,  
но современные подходы (например, [[Package by Feature]])  
строят архитектуру вокруг **домена**, а не “ролей классов” 
