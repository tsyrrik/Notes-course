### Что это

**SOAP (Simple Object Access Protocol)** — старый протокол для обмена сообщениями между системами.  
Работает поверх HTTP (или SMTP, если кому-то скучно), но использует **XML** вместо JSON.

SOAP появился **до REST**, когда идея “веб-сервисов” означала “XML через всё, что движется”.

---

### Основная идея

SOAP — это **RPC в XML-обёртке** с формальным контрактом.  
Ты вызываешь метод, передаёшь параметры, и получаешь XML-ответ.

```xml
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
  <soap:Body>
    <getUser xmlns="http://example.com/">
      <id>42</id>
    </getUser>
  </soap:Body>
</soap:Envelope>
```

Ответ тоже XML, с результатом внутри `<soap:Body>`.

---

### Контракт (WSDL)

SOAP-сервисы описываются файлом **WSDL (Web Services Description Language)** —  
по сути, XML-схемой, где заданы методы, параметры и типы данных.  
Из WSDL можно сгенерировать клиент и сервер автоматически.

---

### Особенности

- **Формальный контракт:** строго описано, что можно вызывать и с какими типами.
    
- **Расширения:** WS-Security, WS-Addressing, WS-Policy — целая SOAP-вселенная.
    
- **XML-подписи и шифрование:** можно интегрироваться с банками и госами без “на коленке”.
    

---

### Минусы (почему он умер)

- XML-перегруз: слишком многословно и медленно.
    
- Сложные спецификации WS-*, которые даже читать больно.
    
- Отсутствие гибкости — каждый чих требует обновления контракта.
    
- JSON и REST просто оказались дешевле, понятнее и быстрее.
    

---

### Где ещё живёт

- Банковские интеграции (платёжные шлюзы, отчётность).
    
- Госуслуги и старые корпоративные системы.
    
- Legacy ERP, где “API” = “WSDL на 2 мегабайта”.
    

---

### Итого

SOAP — это **формальный, шумный и переживший эпоху способ общения сервисов**.  
Он надёжен, документирован и предсказуем,  
но его место — в архивах корпоративных монолитов, а не в новых проектах.

---

Если кто-то спросит “что вы знаете о SOAP”, достаточно сказать:

> “XML-базовый протокол с контрактом WSDL, раньше был стандартом, сейчас почти не используется, кроме 1c и легаси-интеграций.”  
> И всё. Этого хватит, чтобы не тратить жизнь на `<Envelope>`.