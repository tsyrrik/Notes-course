![[Pasted image 20251103192005.png]]
–≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ `/fpm-status`, –∏ –∫–∞–∂–¥—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

–¥–æ–∫–∞ - https://www.php.net/manual/en/fpm.status.php

---

### **pool**

–ò–º—è –ø—É–ª–∞, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –∏–¥—É—Ç –¥–∞–Ω–Ω—ã–µ ‚Äî –≤ —Ç–≤–æ—ë–º —Å–ª—É—á–∞–µ `www`.  
–ú–æ–∂–Ω–æ –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—É–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `api`, `admin`, `cron`), –∏ –∫–∞–∂–¥—ã–π –∂–∏–≤—ë—Ç —Å–æ —Å–≤–æ–∏–º–∏ –ª–∏–º–∏—Ç–∞–º–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.

---

### **process manager**

–†–µ–∂–∏–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏:

- `static` ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –≤–æ—Ä–∫–µ—Ä–æ–≤, –∑–∞–¥–∞–Ω–Ω–æ–µ `pm.max_children`.
    
- `dynamic` ‚Äî FPM –ø–æ–¥–Ω–∏–º–∞–µ—Ç –∏ —É–±–∏–≤–∞–µ—Ç –≤–æ—Ä–∫–µ—Ä–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ (—Å–∞–º—ã–π —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π —Ä–µ–∂–∏–º).
    
- `ondemand` ‚Äî –≤–æ—Ä–∫–µ—Ä—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∏ —É–º–∏—Ä–∞—é—Ç –ø–æ—Å–ª–µ –ø—Ä–æ—Å—Ç–æ—è (`pm.process_idle_timeout`).  
    –£ —Ç–µ–±—è `dynamic`, –∑–Ω–∞—á–∏—Ç, –æ–Ω –¥–µ—Ä–∂–∏—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ –º–æ–∂–µ—Ç –¥–æ–∫–∏–Ω—É—Ç—å –µ—â—ë, –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –º–Ω–æ–≥–æ.
    

---

### **start time**

–ö–æ–≥–¥–∞ –ø—É–ª –±—ã–ª –∑–∞–ø—É—â–µ–Ω.  
–ï—Å–ª–∏ —á–∞—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è ‚Äî –∏—â–∏ –ø—Ä–∏—á–∏–Ω—É (OOM killer, `reload`, —Å–±–æ–π). –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∞–ø—Ç–∞–π–º–∞ –ø—É–ª–∞.

---

### **start since**

–°–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –ø—Ä–æ—à–ª–æ —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–ø—É—Å–∫–∞.  
`3` ‚Äî –∑–Ω–∞—á–∏—Ç, —Ç—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–¥–µ–ª–∞–ª reload, –∏ —É —Ç–µ–±—è —Å–≤–µ–∂–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã.

---

### **accepted conn**

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ **–æ–±—Å–ª—É–∂–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π** —Å –º–æ–º–µ–Ω—Ç–∞ —Å—Ç–∞—Ä—Ç–∞ –ø—É–ª–∞.  
–ï—Å–ª–∏ —Ä–∞—Å—Ç—ë—Ç ‚Äî —Å–∏—Å—Ç–µ–º–∞ –∂–∏–≤–∞. –ï—Å–ª–∏ —Å—Ç–æ–∏—Ç –Ω–∞ –º–µ—Å—Ç–µ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Äî —Å–º–æ—Ç—Ä–∏ –æ—á–µ—Ä–µ–¥—å.

---

### **listen queue**

–°–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ **–≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –∂–¥—É—Ç**, —á—Ç–æ–±—ã –ø–æ–ø–∞—Å—Ç—å –≤ –≤–æ—Ä–∫–µ—Ä.  
`0` ‚Äî –æ—Ç–ª–∏—á–Ω–æ, –æ—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞.  
–ï—Å–ª–∏ —Ä–∞—Å—Ç—ë—Ç ‚Äî –≤–æ—Ä–∫–µ—Ä—ã –Ω–µ —É—Å–ø–µ–≤–∞—é—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å, –∑–Ω–∞—á–∏—Ç, –ª–∏–±–æ `pm.max_children` –º–∞–ª, –ª–∏–±–æ –∫–æ–¥ —Ç—è–Ω–µ—Ç –∫–æ—Ç–∞ –∑–∞ —Ö–≤–æ—Å—Ç.

---

### **max listen queue**

–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –æ—á–µ—Ä–µ–¥–∏, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–æ —Å—Ç–∞—Ä—Ç–∞.  
–ü–æ–ª–µ–∑–Ω–æ –¥–ª—è —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤—ã ‚Äî –µ—Å–ª–∏ —Ç—É—Ç –±—ã–ª–æ >0, –∑–Ω–∞—á–∏—Ç, –±—ã–ª–∏ –º–æ–º–µ–Ω—Ç—ã, –∫–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å—ã –∂–¥–∞–ª–∏.

---

### **listen queue len**

–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏, –∑–∞–¥–∞–Ω–Ω—ã–π –≤ –∫–æ–Ω—Ñ–∏–≥–µ (`listen.backlog` –∏–ª–∏ —Å–∏—Å—Ç–µ–º–Ω—ã–º –ª–∏–º–∏—Ç–æ–º).  
`4096` ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ª–∏–º–∏—Ç, –Ω–µ —Ñ–∞–∫—Ç, —á—Ç–æ —Ä–µ–∞–ª—å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å –∫–æ–≥–¥–∞-—Ç–æ –ø—Ä–∏–±–ª–∏–∂–∞–ª–∞—Å—å –∫ –Ω–µ–º—É.

---

### **idle processes**

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ **—Å–≤–æ–±–æ–¥–Ω—ã—Ö –≤–æ—Ä–∫–µ—Ä–æ–≤**, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—é—Ç, –Ω–æ –≥–æ—Ç–æ–≤—ã –ø—Ä–∏–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å.  
–ï—Å–ª–∏ –∏—Ö –≤—Å–µ–≥–¥–∞ 0 ‚Äî –Ω–µ—Ö–≤–∞—Ç–∞–µ—Ç –≤–æ—Ä–∫–µ—Ä–æ–≤, –µ—Å–ª–∏ –∏—Ö –≤—Å–µ–≥–¥–∞ –º–∞–∫—Å–∏–º—É–º ‚Äî –ø—É–ª –ø—Ä–æ—Å—Ç–∞–∏–≤–∞–µ—Ç.

---

### **active processes**

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ **–∑–∞–Ω—è—Ç—ã—Ö –≤–æ—Ä–∫–µ—Ä–æ–≤**, –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å –≤—ã–ø–æ–ª–Ω—è—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å—ã.  
1 ‚Äî –∫—Ç–æ-—Ç–æ —á—Ç–æ-—Ç–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç. –ú–æ–∂–µ—Ç –±—ã—Ç—å –¥–∞–∂–µ `curl /fpm-status` ‚Äî –æ–Ω —Ç–æ–∂–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è.

---

### **total processes**

–û–±—â–µ–µ —á–∏—Å–ª–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ –ø—É–ª–µ = idle + active.  
–í —Ç–≤–æ—ë–º —Å–ª—É—á–∞–µ 1 + 1 = 2. –°–æ–≤–ø–∞–¥–∞–µ—Ç, –≤—Å—ë –∂–∏–≤–æ.

---

### **max active processes**

–ú–∞–∫—Å–∏–º—É–º –∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–æ—Ä–∫–µ—Ä–æ–≤, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–æ —Å—Ç–∞—Ä—Ç–∞.  
–ï—Å–ª–∏ –æ–Ω —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `pm.max_children` ‚Äî —ç—Ç–æ —Ç—Ä–µ–≤–æ–∂–Ω—ã–π —Å–∏–≥–Ω–∞–ª, –∑–Ω–∞—á–∏—Ç, –ø—É–ª —É–ø–∏—Ä–∞–ª—Å—è –≤ –ø–æ—Ç–æ–ª–æ–∫ –∏ –Ω–∞—á–∏–Ω–∞–ª —Å—Ç–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –≤ –æ—á–µ—Ä–µ–¥—å.

---

### **max children reached**

–°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –¥–æ—Å—Ç–∏–≥–∞–ª—Å—è –ª–∏–º–∏—Ç `pm.max_children`.  
`0` ‚Äî –æ—Ç–ª–∏—á–Ω–æ, –ª–∏–º–∏—Ç –Ω–µ –¥–æ—Å—Ç–∏–≥–∞–ª—Å—è.  
–ï—Å–ª–∏ >0 ‚Äî –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–Ω—Ñ–∏–≥, —É–≤–µ–ª–∏—á–∏—Ç—å `pm.max_children` –∏–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ (—á–∞—Å—Ç–æ –≤–∏–Ω–æ–≤–∞—Ç –Ω–µ FPM, –∞ —Ç–≤–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫).

---

### **slow requests**

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤, –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤ slowlog (—Å–º. `request_slowlog_timeout`).  
`0` ‚Äî –ø–æ–∫–∞ –≤—Å—ë –±—ã—Å—Ç—Ä–æ.  
–ï—Å–ª–∏ —Ä–∞—Å—Ç—ë—Ç ‚Äî –≤–∫–ª—é—á–∞–π slowlog –∏ —Å–º–æ—Ç—Ä–∏, —á—Ç–æ –∑–∞ —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–ª–∏–ø–∞—é—Ç.

---

### üí° –í –¥–≤—É—Ö —Å–ª–æ–≤–∞—Ö

|–ú–µ—Ç—Ä–∏–∫–∞|–ó–Ω–∞—á–µ–Ω–∏–µ|–ß—Ç–æ –∑–Ω–∞—á–∏—Ç|
|---|---|---|
|`listen queue`|0|–û—á–µ—Ä–µ–¥–∏ –Ω–µ—Ç, FPM —É—Å–ø–µ–≤–∞–µ—Ç|
|`idle processes`|>0|–ï—Å—Ç—å –∑–∞–ø–∞—Å –ø–æ –≤–æ—Ä–∫–µ—Ä–∞–º|
|`max children reached`|0|–õ–∏–º–∏—Ç –Ω–µ –¥–æ—Å—Ç–∏–≥–∞–ª—Å—è|
|`slow requests`|0|–°–∫—Ä–∏–ø—Ç—ã –Ω–µ —Ç—É–ø—è—Ç|

---

–ï—Å–ª–∏ –±—ã —Ç—ã —É–≤–∏–¥–µ–ª:

```
listen queue: 120
max children reached: 45
idle processes: 0
```

‚Äî —ç—Ç–æ —É–∂–µ **–∑–≤–æ–Ω–æ—á–µ–∫**, —á—Ç–æ –∑–∞–ø—Ä–æ—Å—ã —Å—Ç–æ—è—Ç –≤ –æ—á–µ—Ä–µ–¥–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∂–¥—É—Ç.  
–í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –Ω—É–∂–Ω–æ –ª–∏–±–æ —É–≤–µ–ª–∏—á–∏—Ç—å `pm.max_children`, –ª–∏–±–æ –Ω–∞–π—Ç–∏ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Ç–æ—Ä–º–æ–∑–∏—Ç, –ª–∏–±–æ –≤–∫–ª—é—á–∏—Ç—å slowlog –∏ —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è, –∫—Ç–æ –∂—Ä—ë—Ç CPU.



## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç —ç–Ω–¥–ø–æ–π–Ω—Ç —Å–∞–º –ø–æ —Å–µ–±–µ –Ω–µ ¬´—Å—É—â–µ—Å—Ç–≤—É–µ—Ç¬ª. –ï–≥–æ –¥–∞—ë—Ç **php-fpm**, –Ω–æ —Ç—ã –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∏—Ç—å –µ–≥–æ –≤ –ø—É–ª–µ –∏ –æ—Ç–¥–µ–ª—å–Ω–æ –ø—Ä–æ–ø–∏—Å–∞—Ç—å —Ä–æ—É—Ç–∏–Ω–≥ –≤ nginx. –ò–Ω–∞—á–µ –∑–∞–ø—Ä–æ—Å —É–µ–¥–µ—Ç –≤ —Ç–≤–æ–π `index.php`, –∫–∞–∫ —É —Ç–µ–±—è —Å–µ–π—á–∞—Å, –∏ —Ç—ã –±—É–¥–µ—à—å —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –±–µ–ª—ã–π —Å–≤–µ—Ç —á–µ—Ä–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –≤–º–µ—Å—Ç–æ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤. –õ–æ–≤–∏ —Ä–∞–±–æ—á—É—é —Å—Ö–µ–º—É –±–µ–∑ –ø–ª—è—Å–æ–∫.

### 1) –í–∫–ª—é—á–∏ —Å—Ç–∞—Ç—É—Å –∏ –ø–∏–Ω–≥ –≤ –ø—É–ª–µ php-fpm

–§–∞–π–ª –ø—É–ª–∞: –Ω–∞ Debian/Ubuntu –æ–±—ã—á–Ω–æ `/etc/php/*/fpm/pool.d/www.conf`, –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º docker-–æ–±—Ä–∞–∑–µ PHP ‚Äî `/usr/local/etc/php-fpm.d/www.conf`.

```ini
; –í–∫–ª—é—á–∞–µ–º —Å–ª—É–∂–µ–±–Ω—ã–µ –ø—É—Ç–∏
pm.status_path = /fpm-status

; Healthcheck
ping.path = /ping
ping.response = pong

; –ü–æ –∂–µ–ª–∞–Ω–∏—é: –ª–æ–≥ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
request_slowlog_timeout = 3s
slowlog = /var/log/php-fpm/slow.log
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ fpm:

```
systemctl reload php*-fpm    # –∏–ª–∏: service php*-fpm reload
```

–ë–µ–∑ —ç—Ç–æ–≥–æ —à–∞–≥–∞ nginx —Ö–æ—Ç—å —Ç—Ä–µ—Å–Ω–∏, –Ω–æ –æ—Ç–¥–∞–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–µ —Å–º–æ–∂–µ—Ç. –ù–µ—á–µ–≥–æ –æ—Ç–¥–∞–≤–∞—Ç—å.

### 2) –î–æ–±–∞–≤—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏ –≤ nginx

–≠—Ç–∏ –ª–æ–∫–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ **—Ä–∞–Ω—å—à–µ** –æ–±—â–µ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è `\.php$` –∏–ª–∏ —Ö–æ—Ç—è –±—ã –±—ã—Ç—å —Ç–æ—á–Ω—ã–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ–º `location =`.

```nginx
# –°—Ç–∞—Ç—É—Å –ø—É–ª–∞ php-fpm
location = /fpm-status {
    include fastcgi_params;
    # FPM –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç –ø–æ pm.status_path, —Ñ–∞–π–ª —Ä–µ–∞–ª—å–Ω–æ –Ω–µ –Ω—É–∂–µ–Ω
    fastcgi_param SCRIPT_FILENAME $document_root/index.php;
    fastcgi_pass unix:/run/php/php-fpm.sock;

    # –ó–∞–∫—Ä–æ–π –¥–æ—Å—Ç—É–ø —Å–Ω–∞—Ä—É–∂–∏, —Ö–≤–∞—Ç–∏—Ç —É–∂–µ —Å–≤–µ—Ç–∏—Ç—å –∫–∏—à–∫–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
    allow 127.0.0.1;
    allow ::1;
    # –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å —Å –¥—Ä—É–≥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞/–≤–ø–Ω–∞ ‚Äî –¥–æ–±–∞–≤—å allow X.X.X.X;
    deny all;
}

# Ping –¥–ª—è healthcheck-–æ–≤
location = /ping {
    include fastcgi_params;
    fastcgi_param SCRIPT_FILENAME $document_root/index.php;
    fastcgi_pass unix:/run/php/php-fpm.sock;

    allow 127.0.0.1;
    allow ::1;
    deny all;
}
```

–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ nginx:

```
nginx -t && systemctl reload nginx
```

### 3) –ö–∞–∫ —ç—Ç–æ —é–∑–∞—Ç—å

```bash
curl -sS http://127.0.0.1/fpm-status           # —Å–≤–æ–¥–∫–∞ –ø–æ –ø—É–ª—É
curl -sS "http://127.0.0.1/fpm-status?full"    # –¥–µ—Ç–∞–ª—å–Ω–æ –ø–æ –ø—Ä–æ—Ü–µ—Å—Å–∞–º
curl -sS http://127.0.0.1/ping                 # –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å: pong
```


### 6) –§–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —Ç–µ–∫—Å—Ç. –í –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö `?full` –¥–æ–±–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ –≤–æ—Ä–∫–µ—Ä–∞–º. –ï—Å–ª–∏ –æ—á–µ–Ω—å —Ö–æ—á–µ—Ç—Å—è JSON/HTML, —Å–º–æ—Ç—Ä–∏ —Å–≤–æ—é –≤–µ—Ä—Å–∏—é PHP-FPM: –Ω–∞ —á–∞—Å—Ç–∏ —Å–±–æ—Ä–æ–∫ –¥–æ—Å—Ç—É–ø–µ–Ω `?json` –∏ `?html`. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø—Ä–∏–≤—ã–∫–∞–π –∫ —Ç–µ–∫—Å—Ç—É –∏–ª–∏ –ø–∞—Ä—Å–∏ –∫–∞–∫ –≤–∑—Ä–æ—Å–ª—ã–π.

–ö–æ—Ä–æ—á–µ: –≤–∫–ª—é—á–∏ `pm.status_path` –∏ `ping.path` –≤ fpm, –¥–æ–±–∞–≤—å —Ç–æ—á–Ω—ã–µ `location =` –≤ nginx, –∑–∞–∫—Ä–æ–π –¥–æ—Å—Ç—É–ø, –ø—Ä–æ–≤–µ—Ä—å `curl`. –ò –ø–µ—Ä–µ—Å—Ç–∞–Ω—å —Å–ª–∞—Ç—å —ç—Ç–æ—Ç —Ç—Ä–∞—Ñ–∏–∫ –≤ `index.php`, —Ç–∞–º —Ç–≤–æ–∏–º –º–µ—Ç—Ä–∏–∫–∞–º –¥–µ–ª–∞—Ç—å –Ω–µ—á–µ–≥–æ.