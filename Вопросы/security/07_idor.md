## Вопрос: IDOR (Insecure Direct Object Reference)

## Простой ответ
- Никогда не доверяйте ID в запросе: всегда фильтруйте по owner/tenant и проверяйте права.

## Ответ
Простыми словами: доступ к чужим объектам по угадываемым ID/URL (например, `/users/123` вместо своего `/users/42`), когда проверка прав не делается/неверная.

## Защита
- Всегда проверять, что текущий пользователь имеет право на объект (ACL, policies).
- Не полагаться на «сложно угадать ID»; используйте scoping по owner_id/tenant_id.
- Для публичных ресурсов — явная модель доступа; для приватных — фильтрация по текущему пользователю.
- Избегать «сырого» доступа к объекту без фильтра (репозиторий/ORM должен учитывать текущий контекст).

## Примеры

1. `GET /orders/123` отдаёт чужой заказ.
2. `PUT /profile/42` меняет чужой профиль.
3. Защита: фильтрация по owner/tenant.

## Доп. теория

1. IDOR — частный случай Broken Access Control.
2. Нельзя полагаться на «сложные» ID как защиту.
