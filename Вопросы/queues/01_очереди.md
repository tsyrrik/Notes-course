## Вопрос: Очереди (что и зачем)

## Простой ответ
- Коробка, куда кладут задачи, а воркеры забирают и делают.
- Позволяет не ждать ответ сразу и пережить временные падения получателя.

- FIFO механизм для задач/сообщений: отправитель кладет, потребитель обрабатывает и удаляет.
- Зачем: разгрузка, асинхронность, устойчивость при недоступности получателя, разделение отправителя/обработчика.
- Примеры: RabbitMQ, Kafka.

## Ответ
## Плюсы
- Развязывает темпы продюсеров и потребителей.
- Легко горизонтально масштабировать обработчики.
- Можно ставить ретраи/DLQ и не терять задачи.

## Минусы
- Потенциальная задержка доставки, сложнее end-to-end трассировка.
- Нужно думать об идемпотентности/повторной обработке.

```php
// продюсер
$queue->push(['email' => 'user@example.com', 'template' => 'welcome']);

// воркер
while ($job = $queue->pop()) {
    sendEmail($job['email'], $job['template']);
    $queue->ack($job);
}
```
