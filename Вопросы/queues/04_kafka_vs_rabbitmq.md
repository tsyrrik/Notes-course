## Вопрос: Kafka vs RabbitMQ (кратко)

## Простой ответ
- RabbitMQ — про маршрутизацию задач/сообщений и управление доставкой.
- Kafka — про поток событий с хранением и многими читателями.

| Тема | RabbitMQ | Kafka |
| --- | --- | --- |
| Модель | Очереди + обменники (direct/fanout/topic/headers) | Топики, партиции (append-only лог) |
| Порядок | Внутри очереди; с ретраями может мутировать | Гарантирован в партиции |
| Потребление | Сообщение забирают и ack’ают, обычно исчезает | Читают по оффсету, не удаляется сразу |
| Маршрутизация | Богатая: ключи/шаблоны/headers | Простая: ключ → партиция; сложное — в приложении |
| Доставка | At-most/At-least-once, DLX, TTL, приоритеты | At-least-once (exactly-once с идемпотентностью/транзакциями) |
| Нагрузка | Умеренная; таски/ретраи/webhooks | Высокая пропускная; события/логи/CDC/аналитика |
| Хранение | Очередь для доставки, длительное хранение не основное | Хранение по retention (время/объём), “replay” истории |
| Кейсы | Задачи, RPC, почтовый ящик, вебхуки, fanout | Event streaming, telemetry, clickstream, stream processing |

### Мини-пример выбора
- Нужна маршрутизация, ретраи, dead-letter, приоритеты → RabbitMQ.
- Нужно хранить поток событий, несколько потребителей, переигрывать историю → Kafka.

## Ответ
