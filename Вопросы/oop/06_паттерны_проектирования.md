## Вопрос: Паттерны проектирования (кратко)

## Простой ответ
выбираем под задачу, а не ради галочки. Где я их использую:

## Ответ
- Strategy — сменные алгоритмы через общий интерфейс (оплата, сериализация, сортировка).
- Factory — создание объектов прячем за фабрику, когда тип выбирается по данным/конфигу.
- Facade — упрощённый вход к сложной подсистеме (обертка над кучей сервисов).
- Adapter — «переводчик» под свой контракт для стороннего/legacy кода.
- Observer — события/подписки, чтобы реагировать без жёстких связей.
- Decorator — добавляем поведение без правки базового класса (лог, кеш, retry).
- Repository — абстракция доступа к данным (`find/save`), чтобы домен не зависел от хранилища/ORM.

```php
// Strategy
interface Payment { public function pay(int $amount): void; }
class CardPayment implements Payment { public function pay(int $a): void {/*...*/} }

// Factory
class CarFactory {
    public static function create(string $type): Car {
        return match($type){'bmw'=>new BMW(),'audi'=>new Audi()};
    }
}

// Adapter
class SquarePegAdapter extends RoundPeg {
    public function __construct(private SquarePeg $peg) {}
    public function getRadius(): float { return sqrt(2) * $this->peg->getWidth() / 2; }
}

// Observer
class EmailNotifier implements Observer {
    public function update(mixed $data): void { /* send email */ }
}

// Decorator
class MilkDecorator implements Coffee {
    public function __construct(private Coffee $coffee) {}
    public function cost(): int { return $this->coffee->cost() + 2; }
}
```
