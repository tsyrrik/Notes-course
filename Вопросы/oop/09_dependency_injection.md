# Dependency Injection и DI-контейнер

Простыми словами: объект не создаёт зависимости сам, их дают извне. Это снижает связность и упрощает тесты (можно подменять моки). DI‑контейнер автоматизирует создание и выдачу зависимостей.

## Простыми словами
- Не создаём зависимости внутри, а принимаем готовые. Контейнер может построить и выдать их автоматически.

## Виды внедрения
- Конструктор: рекомендуется.
- Сеттер/метод: когда зависимость опциональна или меняется.
- Интерфейс: реже, когда класс обязан «уметь принять» зависимость.

```php
class Car {
    public function __construct(private Engine $engine) {}
}
```

## DI-контейнер (пример идеи)
- Регистрирует биндинги: `Engine::class => V8Engine::class`.
- По запросу `make(Car::class)` строит объект и автоматически подставляет зависимости.

Плюсы: тестируемость (моки), гибкость (смена реализаций), чистая архитектура. Минусы: первоначальная настройка и небольшой оверхед на резолвинг. Было/стало: раньше вручную `new Engine`, теперь контейнер создаёт и внедряет. 
